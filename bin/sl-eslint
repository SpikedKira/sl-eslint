#!/usr/bin/env sh

ARGS="$*"

function run_linter {
    $ROOT_DIR/node_modules/.bin/eslint \
        --config $ROOT_DIR/.eslintrc \
        --rulesdir $ROOT_DIR/rules \
        $ARGS
}

PKG_NAME="@joshforisha/sl-eslint"

ROOT_DIR="`npm root`/$PKG_NAME"
if [ -d $ROOT_DIR ]; then
    run_linter
fi

ROOT_DIR="`npm root -g`/$PKG_NAME"
if [ -d $ROOT_DIR ]; then
    run_linter
fi

exit 1
